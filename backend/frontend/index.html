<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>YouTube Trending Viewer</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #eee; }
    img { width: 100px; height: auto; }
    .top10 { color: red; font-weight: bold; }
  </style>
</head>
<body>

  <h1>üî• YouTube Trending (TH)</h1>
  <table id="videoTable">
    <thead>
      <tr>
        <th>‡∏£‡∏π‡∏õ</th>
        <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</th>
        <th>‡∏ä‡πà‡∏≠‡∏á</th>
        <th>‡∏¢‡∏≠‡∏î‡∏ß‡∏¥‡∏ß</th>
        <th>‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠</th>
        <th>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</th>
        <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const API = 'http://localhost:3001/videos';

    async function loadVideos() {
      const res = await fetch(API);
      const videos = await res.json();

      const tbody = document.querySelector("#videoTable tbody");
      tbody.innerHTML = '';

      videos.forEach((v, index) => {
        const tr = document.createElement('tr');
        if (index < 10) tr.classList.add("top10");

        tr.innerHTML = `
          <td><img src="${v.image}" alt="thumb" /></td>
          <td>${v.‡∏•‡∏≥‡∏î‡∏±‡∏ö}</td>
          <td>${v.‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠}</td>
          <td>${v.‡∏ä‡πà‡∏≠‡∏á}</td>
          <td>${v.‡∏¢‡∏≠‡∏î‡∏ß‡∏¥‡∏ß}</td>
          <td>${v.‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå}</td>
          <td>${v.‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà}</td>
          <td>
            <button onclick="deleteVideo(${index})">‡∏•‡∏ö</button>
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    async function deleteVideo(index) {
      if (!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

      await fetch(`${API}/${index}`, { method: 'DELETE' });
      loadVideos();
    }

    loadVideos();
  </script>
</body>
</html>
